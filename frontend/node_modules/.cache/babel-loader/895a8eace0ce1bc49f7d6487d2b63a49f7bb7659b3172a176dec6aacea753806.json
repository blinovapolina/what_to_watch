{"ast":null,"code":"var _jsxFileName = \"/Users/polinochka/VScodeProjects/what_to_watch/frontend/src/pages/registration/registration.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { RegistrationModal } from \"../../components/registrationModal/registrationModal\";\nimport { getToken } from \"../../services/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./registration.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Registration = ({\n  onLoginSuccess\n}) => {\n  _s();\n  const [registrationModal, setRegistrationModal] = useState(\"login\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    try {\n      const token = await getToken(username, password);\n      localStorage.setItem(\"token\", token);\n      setErrorMessage(\"\");\n      if (onLoginSuccess) {\n        onLoginSuccess({\n          name: \"Иван\",\n          surname: \"Иванов\",\n          email: \"ivanovivan@gmail.com\",\n          nick: \"vanya\"\n        });\n      }\n      navigate(\"/account\");\n    } catch (err) {\n      setErrorMessage(\"Ошибка авторизации. Проверьте данные.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registration\",\n    children: /*#__PURE__*/_jsxDEV(RegistrationModal, {\n      registrationModal: registrationModal,\n      setRegistrationModal: setRegistrationModal,\n      handleLogin: handleLogin,\n      setUsername: setUsername,\n      setPassword: setPassword,\n      errorMessage: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Registration, \"W1GSdhUMrnu4zgo+gz7b6D6ryuA=\", false, function () {\n  return [useNavigate];\n});\n_c = Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["useState","RegistrationModal","getToken","useNavigate","jsxDEV","_jsxDEV","Registration","onLoginSuccess","_s","registrationModal","setRegistrationModal","username","setUsername","password","setPassword","errorMessage","setErrorMessage","navigate","handleLogin","token","localStorage","setItem","name","surname","email","nick","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/polinochka/VScodeProjects/what_to_watch/frontend/src/pages/registration/registration.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { RegistrationModal } from \"../../components/registrationModal/registrationModal\";\nimport { getToken } from \"../../services/auth\";\nimport { useNavigate } from \"react-router-dom\"; \nimport \"./registration.css\";\n\nexport const Registration = ({ onLoginSuccess }) => {\n  const [registrationModal, setRegistrationModal] = useState(\"login\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const navigate = useNavigate(); \n\n  const handleLogin = async () => {\n    try {\n      const token = await getToken(username, password);\n      localStorage.setItem(\"token\", token);\n      setErrorMessage(\"\");\n\n      if (onLoginSuccess) {\n        onLoginSuccess({\n          name: \"Иван\",\n          surname: \"Иванов\",\n          email: \"ivanovivan@gmail.com\",\n          nick: \"vanya\",\n        });\n      }\n\n      navigate(\"/account\");\n    } catch (err) {\n      setErrorMessage(\"Ошибка авторизации. Проверьте данные.\");\n    }\n  };\n\n  return (\n    <div className=\"registration\">\n      <RegistrationModal\n        registrationModal={registrationModal}\n        setRegistrationModal={setRegistrationModal}\n        handleLogin={handleLogin}\n        setUsername={setUsername}\n        setPassword={setPassword}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,iBAAiB,QAAQ,sDAAsD;AACxF,SAASC,QAAQ,QAAQ,qBAAqB;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGV,QAAQ,CAAC,OAAO,CAAC;EACnE,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMiB,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9B,MAAMe,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,KAAK,GAAG,MAAMjB,QAAQ,CAACS,QAAQ,EAAEE,QAAQ,CAAC;MAChDO,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;MACpCH,eAAe,CAAC,EAAE,CAAC;MAEnB,IAAIT,cAAc,EAAE;QAClBA,cAAc,CAAC;UACbe,IAAI,EAAE,MAAM;UACZC,OAAO,EAAE,QAAQ;UACjBC,KAAK,EAAE,sBAAsB;UAC7BC,IAAI,EAAE;QACR,CAAC,CAAC;MACJ;MAEAR,QAAQ,CAAC,UAAU,CAAC;IACtB,CAAC,CAAC,OAAOS,GAAG,EAAE;MACZV,eAAe,CAAC,uCAAuC,CAAC;IAC1D;EACF,CAAC;EAED,oBACEX,OAAA;IAAKsB,SAAS,EAAC,cAAc;IAAAC,QAAA,eAC3BvB,OAAA,CAACJ,iBAAiB;MAChBQ,iBAAiB,EAAEA,iBAAkB;MACrCC,oBAAoB,EAAEA,oBAAqB;MAC3CQ,WAAW,EAAEA,WAAY;MACzBN,WAAW,EAAEA,WAAY;MACzBE,WAAW,EAAEA,WAAY;MACzBC,YAAY,EAAEA;IAAa;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACxB,EAAA,CAzCWF,YAAY;EAAA,QAMNH,WAAW;AAAA;AAAA8B,EAAA,GANjB3B,YAAY;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}